function px_to_pt(t,i){return t*i/72}function px_to_pt_dpi96(t){return 4*t/3}function pt_to_px(t,i){return Math.floor(72*t/i)}function pt_to_px_dpi96(t){return Math.floor(3*t/4)}function Text2D(t,i,e,s,o){this.text=t,this.view=new irect(i,e,s,o),this.yBaseline=2*(o-e)/3,this.textSizePx=16,this.fontName="Arial",this.isCentered=!1,this.isRight=!1,this.isItalic=!1,this.isBold=!1,this.fill=!0,this.fillColor="GoldenRod",this.stroke=!1,this.strokeColor="White",this.strokeWidth=1,this.autoScaleDown=!1}Text2D.prototype.getFont=function(){let t="";1==this.isItalic&&(t="italic "),1==this.isBold&&(t+="bold ");var i=Math.floor(this.textSizePx*densityX);return t+=i+"px "+this.fontName,t},Text2D.prototype.drawText=function(t){var i=(this.view.right-this.view.left)*densityX;let e=this.view.left*densityX;var s=(this.view.top+this.yBaseline)*densityY;1==this.isCentered?(t.textAlign="center",e+=i/2):1==this.isRight?(t.textAlign="right",e+=i):t.textAlign="left",1==this.autoScaleDown?(1==this.fill&&(t.fillStyle=this.fillColor,t.fillText(this.text,e,s,i)),1==this.stroke&&(t.lineWidth=this.strokeWidth*densityX,t.strokeStyle=this.strokeColor,t.strokeText(this.text,e,s,i))):(1==this.fill&&(t.fillStyle=this.fillColor,t.fillText(this.text,e,s)),1==this.stroke&&(t.lineWidth=this.strokeWidth*densityX,t.strokeStyle=this.strokeColor,t.strokeText(this.text,e,s)))},Text2D.prototype.drawRoundRect=function(t,i,e,s){var o=this.view.left*densityX,l=this.view.top*densityY,h=this.view.right*densityX,n=this.view.bottom*densityY;let r=i*densityX;0==i&&(r=.4*this.textSizePx*densityX),t.beginPath(),t.moveTo(o+r,l),t.lineTo(h-r,l),t.arcTo(h,l,h,l+r,r),t.lineTo(h,n-r),t.arcTo(h,n,h-r,n,r),t.lineTo(o+r,n),t.arcTo(o,n,o,n-r,r),t.lineTo(o,l+r),t.arcTo(o,l,o+r,l,r),t.closePath(),null!=e&&(t.fillStyle=e,t.fill()),null!=s&&(t.lineWidth=this.strokeWidth*densityX,t.strokeStyle=s,t.stroke())},Text2D.prototype.hitTestScr=function(t,i){var e=this.view.left*densityX,s=this.view.top*densityY,o=this.view.right*densityX,l=this.view.bottom*densityY;return e<t&&t<o&&s<i&&i<l};