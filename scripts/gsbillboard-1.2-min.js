const BILLBOARD_ITEMS=20;function board_item(e,s,t){this.date=e,this.player=s,this.score=t}function Billboard(e){this.tag=e,this.keyName=e+"Scores",this.scores=[],this.isModified=!1}Billboard.prototype.load=function(){this.scores.length=0;let s=localStorage.getItem(this.keyName);if(null!=s){let e=s.split(";");e.forEach(e=>{e=e.split("|"),e=new board_item(e[0],e[1],parseInt(e[2]));this.scores.push(e)}),this.isModified=!1}},Billboard.prototype.save=function(){if(0!=this.scores.length){let s="";this.scores.forEach(e=>{e=e.date.concat("|",e.player,"|",e.score.toString());s=0==s.length?e:s.concat(";",e)}),localStorage.setItem(this.keyName,s),this.isModified=!1}else localStorage.removeItem(this.keyName)},Billboard.prototype.clear=function(){this.scores.length=0,localStorage.removeItem(this.keyName),this.isModified=!1},Billboard.prototype.isAcceptable=function(e){return this.scores.length<BILLBOARD_ITEMS||this.scores[BILLBOARD_ITEMS-1].score<e},Billboard.prototype.accept=function(e,s,t){let o=this.scores.length;var i;for(this.scores.length<BILLBOARD_ITEMS?(i=new board_item(e,s,t),this.scores.push(i)):(o=this.scores.length-1,this.scores[o].date=e,this.scores[o].player=s,this.scores[o].score=t);0<o;){var r=o-1;if(this.scores[r].score>=this.scores[o].score)break;var l=this.scores[r].date;this.scores[r].date=this.scores[o].date,this.scores[o].date=l,l=this.scores[r].player,this.scores[r].player=this.scores[o].player,this.scores[o].player=l;l=this.scores[r].score;this.scores[r].score=this.scores[o].score,this.scores[o].score=l,o=r}this.isModified=!0},Billboard.prototype.outputTable=function(e,i,r,l,c){let a=document.getElementById(e);if(null!=a){for(;a.hasChildNodes();)a.removeChild(a.lastChild);let o=1;this.scores.forEach(e=>{let s=a.insertRow(-1),t=s.insertCell(0);t.className=i,t.innerText=o.toString(),++o,t=s.insertCell(1),t.className=r,t.innerText=e.date,t=s.insertCell(2),t.className=l,t.innerText=e.player,t=s.insertCell(3),t.className=c,t.innerText=e.score.toString()})}};